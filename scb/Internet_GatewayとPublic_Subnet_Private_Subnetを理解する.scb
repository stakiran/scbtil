ä½•å›ã‚‚å¿˜ã‚Œã‚‹ã®ã§æ”¹ã‚ã¦ğŸ°

[ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«æ¥ç¶šã™ã‚‹ - Amazon Virtual Private Cloud https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/VPC_Internet_Gateway.html]
 ig
  vpcã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆé–“ã‚’æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã—ãŸã‚‚ã®
  vpc > ig æ–¹å‘ã®å ´åˆã€å†…éƒ¨çš„ã«ã¯NATã‚‚ã—ã¦ã„ã‚‹
   ãŸã ã—ipv4ã®ã¿
   v6ã¯ã‚¢ãƒ‰ãƒ¬ã‚¹è¶³ã‚Šã¦ã‚‹ã®ã§æ™®é€šã«ã‚¢ãƒ‰ãƒ¬ã‚¹æ™’ã—ã¦ã‚‹ï¼ˆnatä¸è¦ï¼‰
 vpcã‹ã‚‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«å‡ºã‚‹ãŸã‚ã«å¿…è¦ãªã“ã¨
  1 vpcã«igã‚’ã‚¢ã‚¿ãƒƒãƒ
  2 vpcå†…ã®subnetã«ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«å‡ºã‚‹çµŒè·¯ã‚’è¿½åŠ ï¼ˆigã‚’æŒ‡ã•ã›ã‚‹ï¼‰
  3 vpcå†…ã®subnetã«ã€public ipã‚’æŒã¤ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã¤ãã‚‹
  4 sg ã‚„ acl ãªã©ã§è¨±å¯ã™ã‚‹è¨­å®šã«ã™ã‚‹ï¼ˆã¨ã„ã†ã‚ˆã‚Šç¦æ­¢ã™ã‚‹è¨­å®šã‚’å…¥ã‚Œãªã„ï¼‰
 public subnet ã¨ private subnet ã®é•ã„ã¯ï¼Ÿ
  igã¸ã®ãƒ«ãƒ¼ãƒˆãŒã‚ã‚‹å ´åˆã€public subnet ã¨ã„ã†
  >ã‚µãƒ–ãƒãƒƒãƒˆã«é–¢é€£ä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã¸ã®ãƒ«ãƒ¼ãƒˆãŒã‚ã‚‹å ´åˆã€ãã®ã‚µãƒ–ãƒãƒƒãƒˆã¯ã€Œãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚µãƒ–ãƒãƒƒãƒˆã€ã¨å‘¼ã°ã‚Œã¾ã™ã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã¸ã®ãƒ«ãƒ¼ãƒˆã‚’æŒãŸãªã„ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã«é–¢é€£ä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹ã‚µãƒ–ãƒãƒƒãƒˆã¯ã€ã€Œãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆã€ã¨å‘¼ã°ã‚Œã¾ã™ã€‚

ãˆï¼Ÿpublic ipæŒãŸã›ãªã„ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¨ç¹‹ã’ãªã„ã®ï¼Ÿ
 Ans: ã„ã„ãˆã€æŒãŸãªãã¦ã‚‚ã„ã‘ã‚‹æ–¹æ³•ã‚ã‚Šã¾ã™
 ã“ã“ã§ã„ã‚ã‚†ã‚‹æ–™é‡‘æ³£ã‹ã›ã® NAT ãŒå‡ºã¦ãã‚‹
 [NAT ãƒ‡ãƒã‚¤ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¾ãŸã¯ä»–ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«æ¥ç¶šã™ã‚‹ - Amazon Virtual Private Cloud https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-nat.html]
  [NAT ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ - Amazon Virtual Private Cloud https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-nat-gateway.html]
   ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¤ãªããŸã„ãªã‚‰ public NAT ä¸€æŠ
çµå±€ã€NATã‚’ç”¨ã„ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆå°é€šã¯ã©ã†ã‚„ã‚Œã°ã„ã„ã®ï¼Ÿ
 1 public subnetã‚’ã¤ãã‚‹
 2 1ã«NATã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚’ã¤ãã‚Šã€elastic ipã‚’æŒ¯ã‚‹
 3 1ã«ã€Œ0.0.0.0/0 â†’ igã€ãƒ«ãƒ¼ãƒˆã‚’å…¥ã‚Œã‚‹
 4 private subnetã‚’ã¤ãã‚‹
 5 4ã«ã€Œ0.0.0.0/0 â†’2ã®NATã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã€ãƒ«ãƒ¼ãƒˆã‚’å…¥ã‚Œã‚‹
 ---
 ã¤ã¾ã‚Šã“ã†ã„ã†çµŒè·¯
  instance in private > natgateway in public > ig in public > The Internet
